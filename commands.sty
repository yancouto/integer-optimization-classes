% Environments
\newtheorem{theorem}{Theorem}
\newtheorem{corollary}{Corollary}
\newtheorem{lemma}{Lema}
\newtheorem{proposition}{Proposition}
\theoremstyle{definition}
\newtheorem*{definition}{Definition}

\newenvironment{optimize}[1]
 {\begin{equation}\@ifnotmtarg{#1}{\tag{#1}}\begin{aligned}}
 {\end{aligned}\end{equation}}

% Operators
\newcommand{\x}{\times}

% Common Vars
\newcommand{\R}{\mathbb{R}}
\newcommand{\Rp}{\mathbb{R}_+}
\newcommand{\Rpp}{\mathbb{R}_{++}}

\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Zp}{\mathbb{Z_+}}

\newcommand{\N}{\mathbb{N}}

\newcommand{\mC}{\mathcal{C}}

\newcommand{\ones}{\mathds{1}}

% Extra
\renewcommand{\emph}[1]{\underline{\smash{#1}}}
\newcommand{\true}{\text{true}}
\newcommand{\false}{\text{false}}

% Copied
% Pretty bar
\newsavebox\myboxA
\newsavebox\myboxB
\newlength\mylenA

\newcommand*\xbar[2][0.75]{%
    \sbox{\myboxA}{$\m@th#2$}%
    \setbox\myboxB\null% Phantom box
    \ht\myboxB=1.1\ht\myboxA%
    \dp\myboxB=\dp\myboxA%
    \wd\myboxB=#1\wd\myboxA% Scale phantom
    \sbox\myboxB{$\m@th\overline{\copy\myboxB}$}%  Overlined phantom
    \setlength\mylenA{\the\wd\myboxA}%   calc width diff
    \addtolength\mylenA{-\the\wd\myboxB}%
    \ifdim\wd\myboxB<\wd\myboxA%
       \rlap{\hskip 0.5\mylenA\usebox\myboxB}{\usebox\myboxA}%
    \else
        \hskip -0.5\mylenA\rlap{\usebox\myboxA}{\hskip 0.5\mylenA\usebox\myboxB}%
    \fi}
